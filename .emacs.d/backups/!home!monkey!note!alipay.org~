#+TITLE:     Archlinux下安装支付宝安全控件
#+AUTHOR:    yuanhang zheng
#+EMAIL:     zhengyhn@gmail.com
#+DATE:      2013-02-23 Sat

最近空间和域名都过期，花钱的时候到了。用了这么久linux还没上过支付宝，
一上问题就来了，居然要安装安全控件！幸好支付宝支持linux和主流的浏览器，
但是问题是我装上了，也提示成功了，还是没效果，于是google到了一篇文章，
http://www.longda.us/?p=135
但是要翻墙才能看！
原因是Arch太新了，它已经使用了libpng15，而支付宝安全控件还在使用
libpng12，于是要创建一个符号链接：
#+BEGIN_SRC sh
ln -s /lib64/libpng15.so.15 /lib64/libpng12.so.0
#+END_SRC
这样，重新安装，重启浏览器就行了。

但是作者是怎么知道少了这个东西的呢？
原来有一个工具叫ldd，man一下就知道它是可以查看依赖关系的，我通过
#+BEGIN_SRC sh
ldd .mozilla/plugins/libaliedit64.so
#+END_SRC
就看到了一堆库文件的依赖，其中有一项：
#+BEGIN_SRC sh
libpng12.so.0 not found
#+END_SRC
说明没有找到这个库文件，于是可以想到是版本的问题，便去find一下
libpng在当前系统中的版本，发现是15,应该是名字的问题，便建一个
符号链接，把问题解决了。

如果是像我一样的Archlinux用户，每天保持最新，则要小心，以后可能
会经常遇到这种库文件版本的问题，记住解决办法的途径是最好，以后遇到
类似的问题就可以知道怎么解决了。
